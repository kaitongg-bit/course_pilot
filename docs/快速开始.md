# ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

## å‰ç½®è¦æ±‚

1. **Groq API å¯†é’¥** (å…è´¹)
   - æ³¨å†Œåœ°å€: https://console.groq.com/
   - è·å–å¯†é’¥: https://console.groq.com/keys
   - ä½ çš„å¯†é’¥: `your_groq_api_key_here`

2. **Python 3.9+**
   ```bash
   python3 --version  # åº”è¯¥æ˜¯ 3.9 æˆ–æ›´é«˜ç‰ˆæœ¬
   ```

---

## æ–¹å¼ 1: æœ¬åœ°å¼€å‘ (æœ€å¿«)

### 1. è®¾ç½®ç¯å¢ƒå˜é‡
```bash
export GROQ_API_KEY="your_groq_api_key_here"
```

### 2. å®‰è£…ä¾èµ–
```bash
cd backend
pip install -r requirements.txt
```

è¿™å°†å®‰è£…:
- Flask (ç½‘é¡µæ¡†æ¶)
- ChromaDB (å‘é‡æ•°æ®åº“)
- Sentence Transformers (åµŒå…¥æ¨¡å‹)
- Groq (LLM API)

**æ³¨æ„:** é¦–æ¬¡å®‰è£…éœ€è¦ 2-3 åˆ†é’Ÿä¸‹è½½æ¨¡å‹ã€‚

### 3. å¯åŠ¨æœåŠ¡å™¨
```bash
python llm-proxy.py
```

**é¦–æ¬¡è¿è¡Œè¾“å‡º:**
```
ğŸ”§ åˆå§‹åŒ–å‘é‡æ•°æ®åº“...
âœ“ åŠ è½½ sentence-transformers æ¨¡å‹
ğŸ“¦ åˆ›å»ºæ–°çš„è¯¾ç¨‹é›†åˆ...
ğŸ“¥ å°†è¯¾ç¨‹å¯¼å…¥å‘é‡æ•°æ®åº“...
ğŸ”„ åµŒå…¥ 3289 é—¨è¯¾ç¨‹...
âœ“ æˆåŠŸç´¢å¼• 3289 é—¨è¯¾ç¨‹
âœ“ Groq å®¢æˆ·ç«¯åˆå§‹åŒ–å®Œæˆ
âœ“ ä» CSV åŠ è½½ 3289 é—¨è¯¾ç¨‹
âœ“ åŠ è½½ 1234 é—¨è¯¾ç¨‹çš„è¯„è®º
âœ… åˆå§‹åŒ–å®Œæˆï¼
 * è¿è¡Œåœ¨ http://0.0.0.0:8080
```

**åç»­è¿è¡Œ:** çº¦ 5 ç§’ (ChromaDB ç´¢å¼•å·²ç¼“å­˜)

### 4. æµ‹è¯•
æ‰“å¼€æ–°ç»ˆç«¯:
```bash
./test_backend.sh
```

æˆ–æ‰‹åŠ¨æµ‹è¯•:
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8080/api/health

# æœç´¢è¯¾ç¨‹
curl -X POST http://localhost:8080/api/courses/match \
  -H "Content-Type: application/json" \
  -d '{"goal": "æœºå™¨å­¦ä¹ ", "skills": ["python"], "resume": "", "schedule": []}'
```

---

## æ–¹å¼ 2: Docker (ç±»ç”Ÿäº§ç¯å¢ƒ)

### 1. æ„å»ºé•œåƒ
```bash
docker build -t course-pilot-backend .
```

**æ„å»ºæ—¶é—´:** é¦–æ¬¡çº¦ 5-10 åˆ†é’Ÿ

### 2. è¿è¡Œå®¹å™¨
```bash
docker run -p 8080:8080 \
  -e GROQ_API_KEY="your_groq_api_key_here" \
  course-pilot-backend
```

### 3. æµ‹è¯•
```bash
curl http://localhost:8080/api/health
```

---

## æ–¹å¼ 3: Google Cloud Run (ç”Ÿäº§ç¯å¢ƒ)

### å‰ç½®è¦æ±‚
- Google Cloud è´¦æˆ·
- å®‰è£… `gcloud` CLI: https://cloud.google.com/sdk/docs/install

### 1. è®¤è¯
```bash
gcloud auth login
gcloud config set project ä½ çš„é¡¹ç›®ID
```

### 2. æ„å»ºå¹¶æ¨é€
```bash
export PROJECT_ID=$(gcloud config get-value project)

docker build -t gcr.io/$PROJECT_ID/course-pilot-backend .
docker push gcr.io/$PROJECT_ID/course-pilot-backend
```

### 3. éƒ¨ç½²
```bash
gcloud run deploy course-pilot-backend \
  --image gcr.io/$PROJECT_ID/course-pilot-backend \
  --platform managed \
  --region us-central1 \
  --allow-unauthenticated \
  --set-env-vars GROQ_API_KEY="your_groq_api_key_here" \
  --memory 2Gi \
  --cpu 2 \
  --timeout 300
```

### 4. è·å– URL
```bash
gcloud run services describe course-pilot-backend \
  --platform managed \
  --region us-central1 \
  --format 'value(status.url)'
```

è¾“å‡º: `https://course-pilot-backend-xxxxx-uc.a.run.app`

### 5. æµ‹è¯•
```bash
curl https://ä½ çš„-cloud-run-url.run.app/api/health
```

---

## ğŸ§ª æµ‹è¯• API

### 1. å¥åº·æ£€æŸ¥
```bash
curl http://localhost:8080/api/health
```

**é¢„æœŸå“åº”:**
```json
{
  "status": "ok",
  "courses_count": 3289,
  "vector_db_count": 3289,
  "groq_enabled": true
}
```

### 2. è¯­ä¹‰æœç´¢
```bash
curl -X POST http://localhost:8080/api/courses/match \
  -H "Content-Type: application/json" \
  -d '{
    "goal": "æˆ‘æƒ³å­¦ä¹ äººå·¥æ™ºèƒ½",
    "skills": ["python", "æ•°å­¦"],
    "resume": "å¯¹æœºå™¨å­¦ä¹ æ„Ÿå…´è¶£",
    "schedule": []
  }'
```

**é¢„æœŸ:** è¿”å› AIã€MLã€ç¥ç»ç½‘ç»œç›¸å…³è¯¾ç¨‹

### 3. ç²¾ç¡®è¯¾ç¨‹ ID
```bash
curl -X POST http://localhost:8080/api/courses/match \
  -H "Content-Type: application/json" \
  -d '{
    "goal": "15-112",
    "skills": [],
    "resume": "",
    "schedule": []
  }'
```

**é¢„æœŸ:** 15-112 ä½œä¸ºç¬¬ä¸€ä¸ªç»“æœ

### 4. æ—¶é—´è¡¨è¿‡æ»¤
```bash
curl -X POST http://localhost:8080/api/courses/match \
  -H "Content-Type: application/json" \
  -d '{
    "goal": "æœºå™¨å­¦ä¹ ",
    "skills": [],
    "resume": "",
    "schedule": [
      {"day": "M", "times": ["9:00 AM", "9:30 AM", "10:00 AM"]},
      {"day": "W", "times": ["9:00 AM", "9:30 AM", "10:00 AM"]},
      {"day": "F", "times": ["9:00 AM", "9:30 AM", "10:00 AM"]}
    ]
  }'
```

**é¢„æœŸ:** ä»…è¿”å›å‘¨ä¸€/ä¸‰/äº” 9-10 AM çš„ ML è¯¾ç¨‹

---

## ğŸ”§ æ•…éšœæ’é™¤

### "ModuleNotFoundError: No module named 'chromadb'"
**è§£å†³æ–¹æ¡ˆ:** å®‰è£…ä¾èµ–
```bash
cd backend
pip install -r requirements.txt
```

### "Error: GROQ_API_KEY not found"
**è§£å†³æ–¹æ¡ˆ:** è®¾ç½®ç¯å¢ƒå˜é‡
```bash
export GROQ_API_KEY="your_groq_api_key_here"
```

### "Port 8080 already in use"
**è§£å†³æ–¹æ¡ˆ:** æ€æ­»ç°æœ‰è¿›ç¨‹æˆ–ä½¿ç”¨ä¸åŒç«¯å£
```bash
# æ€æ­»ç°æœ‰è¿›ç¨‹
lsof -ti:8080 | xargs kill -9

# æˆ–ä½¿ç”¨ä¸åŒç«¯å£
PORT=8081 python llm-proxy.py
```

### "ChromaDB åˆå§‹åŒ–æ—¶é—´å¤ªé•¿"
**è§£å†³æ–¹æ¡ˆ:** é¦–æ¬¡è¿è¡Œæ­£å¸¸ (ç´¢å¼• 3289 é—¨è¯¾ç¨‹)
- é¢„æœŸæ—¶é—´: 30-60 ç§’
- åç»­è¿è¡Œ: çº¦ 5 ç§’ (å·²ç¼“å­˜)

### "Groq API é€Ÿç‡é™åˆ¶"
**è§£å†³æ–¹æ¡ˆ:** ç­‰å¾…ä¸€åˆ†é’Ÿæˆ–å‡çº§ Groq è®¡åˆ’
- å…è´¹ç‰ˆ: 30 è¯·æ±‚/åˆ†é’Ÿ
- æŸ¥çœ‹é™åˆ¶: https://console.groq.com/settings/limits

---

## ğŸ“Š æ€§èƒ½é¢„æœŸ

| æŒ‡æ ‡ | æ•°å€¼ |
|-----|------|
| **é¦–æ¬¡å¯åŠ¨** | 30-60 ç§’ (ç´¢å¼•) |
| **åç»­å¯åŠ¨** | 5-10 ç§’ |
| **å¥åº·æ£€æŸ¥** | < 10ms |
| **è¯¾ç¨‹æœç´¢** | 300-600ms |
| **å†…å­˜ä½¿ç”¨** | çº¦ 2GB |
| **CPU ä½¿ç”¨** | çº¦ 50% (æœç´¢æ—¶) |

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. âœ… åç«¯è¿è¡Œä¸­
2. ğŸ”² æ›´æ–° Chrome Extension API ç«¯ç‚¹
3. ğŸ”² æµ‹è¯•ç«¯åˆ°ç«¯æµç¨‹
4. ğŸ”² éƒ¨ç½²åˆ° Cloud Run (å¯é€‰)
5. ğŸ”² ç›‘æ§æ€§èƒ½

---

## ğŸ“š æ–‡æ¡£

- **éƒ¨ç½²æŒ‡å—.md** - å®Œæ•´éƒ¨ç½²æŒ‡å—
- **æ··åˆRAGè¯¦è§£.md** - æŠ€æœ¯æ·±å…¥è§£æ
- **é‡æ„æ€»ç»“.md** - å®Œæ•´é‡æ„æ€»ç»“
- **README.md** - åŸå§‹é¡¹ç›® README

---

## ğŸ†˜ éœ€è¦å¸®åŠ©?

1. æŸ¥çœ‹ä¸Šé¢çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ `éƒ¨ç½²æŒ‡å—.md`
3. æ£€æŸ¥ Groq API çŠ¶æ€: https://status.groq.com/
4. éªŒè¯ä½ çš„ API å¯†é’¥: https://console.groq.com/keys

---

## ğŸ‰ å‡†å¤‡å°±ç»ªï¼

ä½ çš„æ··åˆ RAG åç«¯ç°åœ¨æ­£åœ¨è¿è¡Œï¼Œå‡†å¤‡æä¾›æ™ºèƒ½è¯¾ç¨‹æ¨èï¼

**ç«‹å³æµ‹è¯•:**
```bash
./test_backend.sh
```
